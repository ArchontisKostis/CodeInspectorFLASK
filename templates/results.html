{% extends "index.html" %}
{% block results_content %}
    <h1 class="text-light">Analysis Results</h1>
    <div class="card">
        <div class="card-body">
            <h3 class="text-light">Project Name: {{ analysis_results.project_name }}</h3>
            <h3 class="text-light">
                Total Commits:
                {{ analysis_results.project.get_number_of_commits() }}
            </h3>
        </div>
    </div>

    <hr>

    {% if plot_html %}
        <h3 class="text-light">Hotspot Matrix</h3>
        <div>
            <!-- Placeholder for the Matplotlib chart -->
            <div id="chart">
                {{ plot_html | safe }}
            </div>
        </div>
    {% endif %}

    {% if analysis_results.project.modified_files %}
        <h3 class="text-light">Modified Files</h3>
        <table class="table table-striped table-light">
            <thead>
                <tr>
                  <th scope="col">Filename</th>
                  <th scope="col">NLOC</th>
                  <th scope="col">CC</th>
                  <th scope="col">CHURN</th>
                </tr>
          </thead>
          <tbody>
            {% for file in analysis_results.project.modified_files %}
                <tr>
                    <td>{{ file.name }}</td>
                    <td>{{ file.metrics['NLOC'] }}</td>
                    <td>{{ file.metrics['CC'] }}</td>
                    <td>{{ file.metrics['CHURN'] }}</td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
    {% endif %}
{% endblock results_content %}